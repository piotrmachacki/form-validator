<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form generator/validator</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css">
    <script src="../dist/FormGenerator.js"></script>
</head>

<body>
    <div class="container">

        <nav class="navbar navbar-expand-lg bg-light border mb-3">
            <div class="container-fluid">
                <a class="navbar-brand" href="#">Form generator/validator</a>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a class="nav-link active" href="index.html">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="register.html">Register</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="login.html">Login</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <!-- Formularz demo -->
        <fieldset class="border p-3">
            <legend>Demo Form</legend>
            <form id="form-demo" class="form" data-validate>
                <div class="loading d-flex justify-content-center p-3">
                    <div class="spinner-border" role="status">
                        <span class="visually-hidden">Loading...</span>
                      </div>
                </div>
            </form>
        </fieldset>

        <script>
            const fieldsData = [
                {
                    id: 'fv-email',
                    type: 'email',
                    name: 'email',
                    label: 'Adres e-mail',
                    required: true,
                    autofocus: true,
                },
                {
                    id: 'fv-password',
                    type: 'password',
                    name: 'password',
                    label: 'Hasło',
                    required: true,
                },
                {
                    id: 'fv-password_confirmation',
                    type: 'password',
                    name: 'password_confirmation',
                    label: 'Powtórz hasło',
                    required: true,
                },
                {
                    id: 'fv-newsletter',
                    type: 'checkbox',
                    name: 'newsletter',
                    label: 'Zapisz się na newsletter',
                },
                {
                    id: 'fv-choose',
                    type: 'radio',
                    name: 'choose',
                    label: 'Wybierz jedną z opcji',
                    required: true,
                    options: ['opcja pierwsza', 'opcja druga', 'opcja trzecia'],
                },
                {
                    id: 'fv-number',
                    type: 'number',
                    name: 'number',
                    label: 'Numer',
                },
                {
                    id: 'fv-number_min',
                    type: 'number',
                    name: 'number_min',
                    label: 'Numer min. 5',
                    min: 5,
                },
                {
                    id: 'fv-number_max',
                    type: 'number',
                    name: 'number_max',
                    label: 'Numer max. 15',
                    max: 15,
                },
                {
                    id: 'fv-range',
                    type: 'number',
                    name: 'range',
                    label: 'Zakres od 10 do 100',
                    min: 10,
                    max: 100,
                    step: 5,
                },
                {
                    id: 'fv-minlength',
                    type: 'text',
                    name: 'minlength',
                    label: 'Min. 5 znaków',
                    minlength: 5,
                },
                {
                    id: 'fv-maxlength',
                    type: 'text',
                    name: 'maxlength',
                    label: 'Max. 10 znaków',
                    maxlength: 10,
                },
                {
                    id: 'fv-text',
                    type: 'textarea',
                    name: 'text',
                    label: 'Tekst',
                    rows: 10,
                    cols: 3,
                },
                {
                    id: 'fv-options',
                    type: 'select',
                    name: 'options',
                    label: 'Wybierz jedną z opcji',
                    required: true,
                    options: [{ value: null, label: '-- wybierz --' }, { value: 1, label: 'opcja pierwsza' }, { value: 2, label: 'opcja druga' }, { value: 3, label: 'opcja trzecia' }],
                },
                {
                    type: 'submit',
                    label: 'Wyślij',
                },
            ];

            const formElement = document.querySelector('#form-demo');
            FormGenerator.build(formElement, fieldsData); // eslint-disable-line no-undef
            const isValidate = formElement && (formElement.getAttribute('data-validate') !== null);
            if (isValidate) {
                const js = document.createElement('script');
                js.onload = () => FormValidator.init(formElement); // eslint-disable-line no-undef
                js.setAttribute('async', '');
                js.src = '../dist/FormValidator.js';
                document.head.appendChild(js);
            }
        </script>

    </div>
</body>

</html>
